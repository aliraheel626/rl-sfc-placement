# SFC Placement RL Environment Configuration

# Substrate Network Configuration
substrate:
  # Fixed size: 25 nodes (smaller network, difficulty preserved via scaled SFC/load)
  num_nodes:
    min: 25
    max: 25
  max_nodes: 25 # Fixed upper bound for obs/action space shapes
  mesh_connectivity: 0.35 # Slightly higher connectivity for small graph (paths exist)

  # Node resource ranges (adequate for individual placements)
  resources:
    ram:
      min: 8
      max: 48
    cpu:
      min: 4
      max: 24
    storage:
      min: 100
      max: 600
    security_score:
      min: 1
      max: 5

  # Link attribute ranges (sufficient bandwidth)
  links:
    bandwidth:
      min: 100
      max: 500
    latency:
      min: 5
      max: 60

# SFC Request Configuration (scaled for 25-node substrate; difficulty preserved)
sfc:
  # Number of VNFs per chain (smaller chains so multiple fit in 25 nodes)
  vnf_count:
    min: 2
    max: 6

  # VNF resource demands (fits on nodes; similar relative load vs capacity)
  vnf_resources:
    ram:
      min: 2
      max: 12
    cpu:
      min: 1
      max: 6
    storage:
      min: 20
      max: 120

  # SFC-level constraints (achievable but require good placement)
  constraints:
    security_score:
      min: 1
      max: 5
    max_latency:
      min: 35
      max: 120
    min_bandwidth:
      min: 50
      max: 250

  # Time to live (truncated exponential on [min, max] via inverse CDF; optional mean, default = midpoint)
  ttl:
    distribution: exponential
    min: 1
    max: 150

  # Lower isolation probability to reduce pressure
  hard_isolation_probability: 0.1

# Training Configuration
training:
  total_timesteps: 100000
  learning_rate: 0.0003
  n_steps: 2048
  batch_size: 256
  n_epochs: 4
  gamma: 0.99
  max_requests_per_episode: 25 # Reduced to lower pressure on 25-node substrate
  randomize_topology: false

# Reward Configuration
rewards:
  acceptance: 10.0
  rejection: -5.0

# Evaluation Configuration
evaluation:
  num_episodes: 10
